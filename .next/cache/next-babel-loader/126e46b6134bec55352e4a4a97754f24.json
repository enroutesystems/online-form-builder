{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/jubaan/Documents/online-form-builder/components/fileUploader/index.js\";\nimport { useState, Component } from \"react\";\nimport { storage } from \"../../firebase/firebase\";\nexport default class FileUploader extends Component {\n  constructor() {\n    super();\n    const [file, setFile] = this.useState(null);\n    const [url, setURL] = this.useState(\"\");\n\n    this.handleChange = e => {\n      setFile(e.target.files[0]);\n    };\n\n    this.handleUpload = e => {\n      e.preventDefault();\n      const uploadTask = storage.ref(`/images/${file.name}`).put(file);\n      uploadTask.on(\"state_changed\", console.log, console.error, () => {\n        storage.ref(\"images\").child(file.name).getDownloadURL().then(url => {\n          setFile(null);\n          setURL(url);\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleUpload,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !file,\n          children: \"upload to firebase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: url,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n;","map":{"version":3,"sources":["/home/jubaan/Documents/online-form-builder/components/fileUploader/index.js"],"names":["useState","Component","storage","FileUploader","constructor","file","setFile","url","setURL","handleChange","e","target","files","handleUpload","preventDefault","uploadTask","ref","name","put","on","console","log","error","child","getDownloadURL","then","render"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,yBAAxB;AAEA,eAAe,MAAMC,YAAN,SAA2BF,SAA3B,CAAqC;AAClDG,EAAAA,WAAW,GAAG;AACZ;AACA,UAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB,KAAKN,QAAL,CAAc,IAAd,CAAxB;AACA,UAAM,CAACO,GAAD,EAAMC,MAAN,IAAgB,KAAKR,QAAL,CAAc,EAAd,CAAtB;;AAEA,SAAKS,YAAL,GAAqBC,CAAD,IAAO;AACzBJ,MAAAA,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;AACD,KAFD;;AAIA,SAAKC,YAAL,GAAqBH,CAAD,IAAO;AACzBA,MAAAA,CAAC,CAACI,cAAF;AACA,YAAMC,UAAU,GAAGb,OAAO,CAACc,GAAR,CAAa,WAAUX,IAAI,CAACY,IAAK,EAAjC,EAAoCC,GAApC,CAAwCb,IAAxC,CAAnB;AACAU,MAAAA,UAAU,CAACI,EAAX,CAAc,eAAd,EAA+BC,OAAO,CAACC,GAAvC,EAA4CD,OAAO,CAACE,KAApD,EAA2D,MAAM;AAC/DpB,QAAAA,OAAO,CACJc,GADH,CACO,QADP,EAEGO,KAFH,CAESlB,IAAI,CAACY,IAFd,EAGGO,cAHH,GAIGC,IAJH,CAISlB,GAAD,IAAS;AACbD,UAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,UAAAA,MAAM,CAACD,GAAD,CAAN;AACD,SAPH;AAQD,OATD;AAUD,KAbD;AAcD;;AAEDmB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE;AAAM,QAAA,QAAQ,EAAEb,YAAhB;AAAA,gCACE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,QAAQ,EAAEJ;AAA7B;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,QAAQ,EAAE,CAACJ,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAK,QAAA,GAAG,EAAEE,GAAV;AAAe,QAAA,GAAG,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AApCiD;AAqCnD","sourcesContent":["import { useState, Component } from \"react\";\nimport { storage } from \"../../firebase/firebase\";\n\nexport default class FileUploader extends Component {\n  constructor() {\n    super();\n    const [file, setFile] = this.useState(null);\n    const [url, setURL] = this.useState(\"\");\n\n    this.handleChange = (e) => {\n      setFile(e.target.files[0]);\n    };\n\n    this.handleUpload = (e) => {\n      e.preventDefault();\n      const uploadTask = storage.ref(`/images/${file.name}`).put(file);\n      uploadTask.on(\"state_changed\", console.log, console.error, () => {\n        storage\n          .ref(\"images\")\n          .child(file.name)\n          .getDownloadURL()\n          .then((url) => {\n            setFile(null);\n            setURL(url);\n          });\n      });\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <form onSubmit={handleUpload}>\n          <input type=\"file\" onChange={handleChange} />\n          <button disabled={!file}>upload to firebase</button>\n        </form>\n        <img src={url} alt=\"\" />\n      </div>\n    )\n  }\n};\n"]},"metadata":{},"sourceType":"module"}